

GET http://localhost:8080/api/greeting HTTP/1.1
content-type: application/json

###

GET http://localhost:8080/api/foo HTTP/1.1
content-type: application/json
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6ImtnMkxZczJUMENUaklmajRydDZKSXluZW4zOCJ9.eyJhdWQiOiJhZTBhNWI2ZS01MTkwLTRhNTItYmMzMC02Zjg2NDVhNWYyNjIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vM2ZkMTFlODUtZDhjZS00YzdmLWI2YTAtODE2MzQ2NjE1Nzc3L3YyLjAiLCJpYXQiOjE2MDIyNTk5NDgsIm5iZiI6MTYwMjI1OTk0OCwiZXhwIjoxNjAyMjYzODQ4LCJhaW8iOiJBVFFBeS84UkFBQUFrZEhWdmRMcDFYeWFnajAvS1Q0eEcwVU1BMHhMQVZRSzk3Q2trWHVRRVNvdXJpelJuUVNiU0Q2QWpIZ3llNVdOIiwiYXpwIjoiOWIyMzI3YTUtYTVmOS00Njc0LThhZmMtYWVhOTJiNTE0NTIyIiwiYXpwYWNyIjoiMCIsIm5hbWUiOiJUaW1vIENsYWVzc2VucyIsIm9pZCI6IjExYmM3OTIyLTI3MzctNGRlYy1hOTVjLWE3M2Y2ZWQxOTYyZCIsInByZWZlcnJlZF91c2VybmFtZSI6InRpbW9AeHN0b2YueHl6IiwicmgiOiIwLkFTRUFoUjdSUDg3WWYweTJvSUZqUm1GWGQ2VW5JNXY1cFhSR2l2eXVxU3RSUlNJaEFPTS4iLCJzY3AiOiJyZWFkIHdyaXRlIiwic3ViIjoiR09JNnBHdVluOVFRbkRyMjJQUkdPM2NMdXNNcDN5dnQ0Mmg3Y1lEQ05pWSIsInRpZCI6IjNmZDExZTg1LWQ4Y2UtNGM3Zi1iNmEwLTgxNjM0NjYxNTc3NyIsInV0aSI6IkN2NFRBUzRmVGtxeXo0dVJTaGtnQUEiLCJ2ZXIiOiIyLjAifQ.VMNnuIb00Fh6Wt2x-qm0T_ADfy69NK5Tgl72HMlGUfo70JHasWkWm6RdXHBCwvYS2trt2l10Uo_ODfFDJvrhu2x-PYooSuM-TwoyKZrDhkWpw1BADcUF9klG7jOhGQaaHAmt-p70i6rU_BLSQc5vrppsKdq1AhXvGd5lknyX4bW7XbOGXrt0bwdPtoL7oFEkAe6InLnf24HzmP3-G29SCP4X4D4nmVYniyxOzlFn00XBn5TYU6bpfKfx8XwHV8zgFB2tqEBLUVYNGDSrjorkqFhvhauVuoInXX4Cj9lQWmrlh2NmPd_7A-zf1JbQtApEFmkJrz1vzCGZISzAUTBgxA
#Authorization: {{$aadV2Token 3fd11e85-d8ce-4c7f-b6a0-816346615777}}

###

POST http://localhost:8080/api/foo HTTP/1.1
content-type: application/json
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6ImtnMkxZczJUMENUaklmajRydDZKSXluZW4zOCJ9.eyJhdWQiOiJhZTBhNWI2ZS01MTkwLTRhNTItYmMzMC02Zjg2NDVhNWYyNjIiLCJpc3MiOiJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vM2ZkMTFlODUtZDhjZS00YzdmLWI2YTAtODE2MzQ2NjE1Nzc3L3YyLjAiLCJpYXQiOjE2MDIyNjIwNjQsIm5iZiI6MTYwMjI2MjA2NCwiZXhwIjoxNjAyMjY1OTY0LCJhaW8iOiJBVFFBeS84UkFBQUEvb3A3SUNnT1dLalF1T2Rwak44ZCtKQm9LSlB3dDRGSzYyaWZrYndUUEd4TUlWUWZlcm1WSnBrK3FiOGNqSXRkIiwiYXpwIjoiOWIyMzI3YTUtYTVmOS00Njc0LThhZmMtYWVhOTJiNTE0NTIyIiwiYXpwYWNyIjoiMCIsIm5hbWUiOiJUaW1vIENsYWVzc2VucyIsIm9pZCI6IjExYmM3OTIyLTI3MzctNGRlYy1hOTVjLWE3M2Y2ZWQxOTYyZCIsInByZWZlcnJlZF91c2VybmFtZSI6InRpbW9AeHN0b2YueHl6IiwicmgiOiIwLkFTRUFoUjdSUDg3WWYweTJvSUZqUm1GWGQ2VW5JNXY1cFhSR2l2eXVxU3RSUlNJaEFPTS4iLCJyb2xlcyI6WyJzdGFmZiJdLCJzY3AiOiJyZWFkIHdyaXRlIiwic3ViIjoiR09JNnBHdVluOVFRbkRyMjJQUkdPM2NMdXNNcDN5dnQ0Mmg3Y1lEQ05pWSIsInRpZCI6IjNmZDExZTg1LWQ4Y2UtNGM3Zi1iNmEwLTgxNjM0NjYxNTc3NyIsInV0aSI6IlllQVRsUnc4emtlSTZUeF9zR3doQUEiLCJ2ZXIiOiIyLjAifQ.aj4lVNMT6xf8QIaSsMIVmK_DLd7W8uDcTwWeOCKOuNLTMQ7eOrdSQzD1SKGW27BhUMUUw2Jb8jfAhAu4O_-Tg1d_nANrYyEEp71JMRVuBrjuKTfvEd4tZU7kNvBCSdHYDifVh9ISAtk5dROxc-62unTRkldTz3DqqAJzLZnOlmbvM_TMcsK1NqE44HWmXnTgC_1XNJOorUgx0_zj_iVV3CbcPTae2-C8uv6J-bZ4NY8fUYrg-TvfQY0mjRuTSyXxA_FN9avb8BPUurdqje6ryfCZQowaLTebk4Uuj0F9CvN7Q7wPK9kUqBJisrYGzLJ2mifI0k66nELp1xdTdhd0WQ

# validations:
# - works: validates issuer
# - works: validates 'write' scope when doing: .antMatchers(HttpMethod.GET, "/foo").hasAnyAuthority("SCOPE_write")
# - 